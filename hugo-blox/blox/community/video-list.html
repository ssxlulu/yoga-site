<!--
  Custom Video List Blox for Hugo Blox
  竖屏9:16视频卡片风格，简洁美观，适合短视频展示
-->
{{ $block := .wcBlock | default . }}
{{ $data := $block.content | default .Params }}
{{ $title := $data.title }}
{{ $subtitle := $data.subtitle }}
{{ $videos := $data.videos }}

<section class="video-list-section py-12">
  <div class="container mx-auto">
    {{ with $title }}<h2 class="text-3xl font-bold text-center mb-2">{{ . }}</h2>{{ end }}
    {{ with $subtitle }}<p class="text-center text-lg mb-8">{{ . }}</p>{{ end }}
    <div class="relative">
      <div class="flex overflow-x-auto gap-6 pb-4 scrollbar-hide snap-x snap-mandatory">
        {{ range $videos }}
        <div class="relative min-w-[180px] max-w-[220px] snap-center group cursor-pointer">
          <div class="aspect-[9/16] w-full rounded-xl overflow-hidden shadow-lg bg-gray-200 relative">
            <img class="w-full h-full object-cover transition-transform group-hover:scale-105" src="https://img.youtube.com/vi/{{ .id }}/maxresdefault.jpg" alt="{{ .title }}" />
            <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/60">
              <svg class="w-12 h-12 text-white opacity-80" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
            </div>
            <a href="https://www.youtube.com/watch?v={{ .id }}" target="_blank" class="absolute inset-0 z-10" aria-label="{{ .title }}"></a>
            <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3">
              <h3 class="text-white text-base font-semibold truncate">{{ .title }}</h3>
            </div>
          </div>
          {{ with .description }}
          <div class="mt-2 text-xs text-gray-600 dark:text-gray-300 text-center line-clamp-2">{{ . }}</div>
          {{ end }}
        </div>
        {{ end }}
      </div>
      <!-- 指示圆点 -->
      <div class="flex justify-center mt-4 gap-2">
        {{ range $i, $v := $videos }}
        <span class="w-2 h-2 rounded-full bg-gray-300 inline-block"></span>
        {{ end }}
      </div>
    </div>
  </div>
</section>
<style>
.scrollbar-hide::-webkit-scrollbar { display: none; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
/* aspect-ratio polyfill for older browsers */
.aspect-\[9\/16\] { aspect-ratio: 9/16; }
.line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
</style>
